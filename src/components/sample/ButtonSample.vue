<script setup lang="ts">
import { defineProps } from 'vue'
import type { HGridColumn, HGridMethods } from 'hisonvue'
import CodeParagraph from '../CodeParagraph.vue'

const props = defineProps<{ lang: string }>()

const ko = {
  t1000:
`í•˜ë‹¨ì€ HButton(ë²„íŠ¼) ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.

HButtonì€ ë°˜ì‘í˜• í…Œë§ˆ í´ë˜ìŠ¤ì™€ ë‹¤ì–‘í•œ í”„ë¡­/ë©”ì„œë“œë¥¼ í†µí•´ ìŠ¤íƒ€ì¼, ìƒíƒœ, ë™ì‘ì„ ìœ ì—°í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆëŠ” ê³ ê¸‰ ë²„íŠ¼ì…ë‹ˆë‹¤.
ë”ë¸”í´ë¦­ ë°©ì§€(íœë”©ë½), ë¬¼ë¦¬ì  í´ë¦­ ê°„ê²© ì œí•œ(clickInterval), ë°°ê²½ íƒ€ì… ì „í™˜(backgroundType), ê°€ì‹œì„±/ë¹„í™œì„± ì œì–´, íˆ´íŒ(title), ì•„ì´ì½˜ ìŠ¬ë¡¯ ë“±ì„ ì§€ì›í•˜ë©°, ëŸ°íƒ€ì„ ë©”ì„œë“œ(hison.component.getButton)ë¡œ ë™ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`,
  t1010: `ì´ê²ƒì€ HButton ë¼ì´ë¸Œ ë°ëª¨ì…ë‹ˆë‹¤.`,
  t1030:
`ì£¼ìš” íŠ¹ì§•

Â· í…Œë§ˆ/ë°˜ì‘í˜• í´ë˜ìŠ¤(hison-size-*, hison-color-*, â€¦)
Â· backgroundType: 'filled'(ê¸°ë³¸) / 'empty' / 'transparent' â€” í”„ë¡­/ë©”ì„œë“œë¡œ ì „í™˜
Â· ë”ë¸”í´ë¦­ ìë™ ë°©ì§€(í•¸ë“¤ëŸ¬ ì‹¤í–‰ ì¤‘ ì ê¸ˆ), ìˆ˜ë™ í•´ì œ unlock() ì œê³µ
Â· ë¬¼ë¦¬ì  í´ë¦­ ê°„ê²© ì œí•œ clickInterval(ms) ì§€ì›
Â· í‘œì‹œ/ë¹„í‘œì‹œ(visible), ë¹„í™œì„±(disable) ë™ì  ì œì–´
Â· ê¸°ë³¸ ìŠ¬ë¡¯ ë° text í”„ë¡­ ë™ì‹œ ì§€ì›(ê¸°ë³¸ ìŠ¬ë¡¯ì´ ìˆìœ¼ë©´ text ë¬´ì‹œ)
Â· #icon ìŠ¬ë¡¯ìœ¼ë¡œ ì•„ì´ì½˜/í”„ë¦¬í”½ìŠ¤ ìš”ì†Œ ì¶”ê°€
Â· title(íˆ´íŒ) í”„ë¡­/ë©”ì„œë“œ ì§€ì›
Â· ëª¨ë“  DOM ì´ë²¤íŠ¸ì—ì„œ HButtonMethodsë¥¼ í•¨ê»˜ ì „ë‹¬(@click="(_, btn) => â€¦")
Â· ë””ë°”ì´ìŠ¤ ë°˜ì‘í˜• ë¦¬ë¡œë“œ(@responsive-change)`,
  t1040: `í…œí”Œë¦¿ ì‚¬ìš© ì˜ˆì‹œ`,
  c1040:
`<!-- í…ìŠ¤íŠ¸ ê¸°ë°˜ + ë°°ê²½/ê°„ê²© ì œì–´ -->
<HButton
  id="btn01"
  class="hison-col-6 hison-color-primary"
  text="Click Me"
  title="Tooltip text"
  background-type="empty"
  :click-interval="500"
  :disable="false"
  :visible="true"
  @click="async (_, btn) => {
    await doSomething()
    btn.unlock()
  }}"
/>

<!-- ê¸°ë³¸ ìŠ¬ë¡¯ ì‚¬ìš© -->
<HButton id="btn02"><strong>Custom Slot</strong></HButton>

<!-- ì•„ì´ì½˜ ìŠ¬ë¡¯ ì‚¬ìš© -->
<HButton id="btn03" text="Download">
  <template #icon>
    <i class="fa fa-download" style="margin-right: 4px" />
  </template>
</HButton>`,
  t1050: `ëŸ°íƒ€ì„ ì‚¬ìš© ì˜ˆì‹œ`,
  c1050:
`const btn = hison.component.getButton('btn01')
btn.setText('Updated')
btn.setDisable(true)
btn.setVisible(false)
btn.setTitle('Updated tooltip')
btn.setBackgroundType('transparent')
btn.setClickInterval(1000)
btn.unlock()`,
  t1100: `slot`,
  t1200: `props`,
  t1300: `event emit`,
  t1400: `component methods`,
}

const en = {
  t1000:
`Below is the HButton component.

HButton is a highly customizable and responsive button with rich props/methods for styling, state, and behavior.
It supports double-click prevention (pending lock), physical click interval limiting (clickInterval), background type switching (backgroundType), visibility/disabled control, tooltip (title), an icon slot, and full runtime control via hison.component.getButton.`,
  t1010: `This is the HButton live demo.`,
  t1030:
`Main Features

Â· Theme/responsive classes (hison-size-*, hison-color-*, â€¦)
Â· backgroundType: 'filled' (default) / 'empty' / 'transparent' â€” switch via prop/methods
Â· Automatic double-click prevention (pending lock) + manual unlock()
Â· Physical click interval limiting via clickInterval (ms)
Â· Dynamic visibility (visible) and disabled (disable) control
Â· Supports both default slot and text prop (slot overrides text)
Â· #icon slot for a prefix icon/element
Â· Tooltip via title prop/method
Â· Emits HButtonMethods alongside DOM events (@click="(_, btn) => â€¦")
Â· Device-aware responsive reload (@responsive-change)`,
  t1040: `Template Example`,
  c1040:
`<!-- Text-based + background/interval control -->
<HButton
  id="btn01"
  class="hison-col-6 hison-color-primary"
  text="Click Me"
  title="Tooltip text"
  background-type="empty"
  :click-interval="500"
  :disable="false"
  :visible="true"
  @click="async (_, btn) => {
    await doSomething()
    btn.unlock()
  }}"
/>

<!-- Default slot -->
<HButton id="btn02"><strong>Custom Slot</strong></HButton>

<!-- With icon slot -->
<HButton id="btn03" text="Download">
  <template #icon>
    <i class="fa fa-download" style="margin-right: 4px" />
  </template>
</HButton>`,
  t1050: `Runtime Example`,
  c1050:
`const btn = hison.component.getButton('btn01')
btn.setText('Updated')
btn.setDisable(true)
btn.setVisible(false)
btn.setTitle('Updated tooltip')
btn.setBackgroundType('transparent')
btn.setClickInterval(1000)
btn.unlock()`,
  t1100: `slot`,
  t1200: `props`,
  t1300: `event emit`,
  t1400: `component methods`,
}

const slotGridDataKo = [
  { slot: "default", explain: "ë²„íŠ¼ ë‚´ë¶€ ê¸°ë³¸ ì½˜í…ì¸ . ì¡´ì¬í•˜ë©´ text í”„ë¡­ë³´ë‹¤ ìš°ì„ í•©ë‹ˆë‹¤." },
  { slot: "#icon",  explain: "ë²„íŠ¼ ë¼ë²¨ ì•ì— ì•„ì´ì½˜/ìš”ì†Œë¥¼ í”„ë¦¬í”½ìŠ¤ë¡œ ë Œë”ë§í•©ë‹ˆë‹¤." },
]

const propGridDataKo = [
  { prop: "id", type: "string", default: "-", explain: "ê³ ìœ  ì‹ë³„ì. hison.component.getButton(id)ë¡œ ëŸ°íƒ€ì„ ì ‘ê·¼." },
  { prop: "class", type: "string | string[] | Record<string, boolean>", default: "-", explain: "ì¶”ê°€/ë°˜ì‘í˜• í´ë˜ìŠ¤(hison-*) ì§€ì›." },
  { prop: "style", type: "string | CSSProperties | CSSProperties[]", default: "-", explain: "ì¸ë¼ì¸ ìŠ¤íƒ€ì¼." },

  { prop: "visible", type: "boolean", default: "true", explain: "ë²„íŠ¼ í‘œì‹œ ì—¬ë¶€." },
  { prop: "disable", type: "boolean", default: "false", explain: "ë²„íŠ¼ ë¹„í™œì„± ì—¬ë¶€." },
  { prop: "text", type: "string", default: "undefined", explain: "ê¸°ë³¸ ìŠ¬ë¡¯ì´ ì—†ì„ ë•Œ ë¼ë²¨ í…ìŠ¤íŠ¸ë¡œ ì‚¬ìš©." },
  { prop: "title", type: "string", default: "undefined", explain: "íˆ´íŒ í…ìŠ¤íŠ¸." },
  { prop: "border", type: "boolean", default: "true", explain: "ë³´ë”(ë°•ìŠ¤ì„€ë„) í‘œì‹œ ì—¬ë¶€." },
  { prop: "backgroundType", type: "'filled'|'empty'|'transparent'", default: "'filled'", explain: "ë°°ê²½ íƒ€ì…. ë©”ì„œë“œë¡œë„ ë³€ê²½ ê°€ëŠ¥." },
  { prop: "clickInterval", type: "number", default: "0", explain: "ë¬¼ë¦¬ì  í´ë¦­ ìµœì†Œ ê°„ê²©(ms). 0ì´ë©´ ì œí•œ ì—†ìŒ." },
  { prop: "tabIndex", type: "number | string | null", default: "null", explain: "íƒ­ í¬ì»¤ìŠ¤ ìˆœì„œ. nullì´ë©´ í¬ì»¤ìŠ¤ ë¶ˆê°€." },
]

const eventGridDataKo = [
  { event: "mounted", trigger: "ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì§í›„", args: "(HButtonMethods)" },
  { event: "click", trigger: "í´ë¦­ ì‹œ", args: "(MouseEvent, HButtonMethods)" },
  { event: "mousedown", trigger: "ë§ˆìš°ìŠ¤ ë²„íŠ¼ ëˆ„ë¦„", args: "(MouseEvent, HButtonMethods)" },
  { event: "mouseup", trigger: "ë§ˆìš°ìŠ¤ ë²„íŠ¼ ë—Œ", args: "(MouseEvent, HButtonMethods)" },
  { event: "mouseover", trigger: "ë§ˆìš°ìŠ¤ ì˜¤ë²„", args: "(MouseEvent, HButtonMethods)" },
  { event: "mouseout", trigger: "ë§ˆìš°ìŠ¤ ì•„ì›ƒ", args: "(MouseEvent, HButtonMethods)" },
  { event: "responsive-change", trigger: "ë””ë°”ì´ìŠ¤ íƒ€ì… ë³€ê²½ ì‹œ", args: "('mb' | 'tb' | 'pc' | 'wd')" },
]

const methodGridDataKo = [
  { method: "getType()", param: "-", return: "'button'", explain: "ì»´í¬ë„ŒíŠ¸ íƒ€ì… ë¦¬í„°ëŸ´('button')." },
  { method: "getText()", param: "-", return: "string", explain: "í˜„ì¬ í…ìŠ¤íŠ¸. ìŠ¬ë¡¯ì„ ì‚¬ìš©í•˜ë©´ ë¹ˆ ë¬¸ìì—´." },
  { method: "getTitle()", param: "-", return: "string", explain: "í˜„ì¬ íˆ´íŒ(title) ê°’." },
  { method: "isDisable()", param: "-", return: "boolean", explain: "í˜„ì¬ ë¹„í™œì„± ì—¬ë¶€." },
  { method: "setText(text)", param: "string", return: "void", explain: "í…ìŠ¤íŠ¸ ì„¤ì •(ìŠ¬ë¡¯ ì‚¬ìš© ì‹œ íš¨ê³¼ ì—†ìŒ)." },
  { method: "setTitle(title)", param: "string", return: "void", explain: "íˆ´íŒ í…ìŠ¤íŠ¸ ì„¤ì •." },
  { method: "setDisable(disable)", param: "boolean", return: "void", explain: "ë¹„í™œì„±/í™œì„± ì „í™˜." },
  { method: "isBorder()", param: "-", return: "boolean", explain: "ë³´ë” í‘œì‹œ ì—¬ë¶€." },
  { method: "setBorder(border)", param: "boolean", return: "void", explain: "ë³´ë” í‘œì‹œ/ìˆ¨ê¹€." },
  { method: "getBackgroundType()", param: "-", return: "BackgroundTypeValue", explain: "í˜„ì¬ ë°°ê²½ íƒ€ì… ì¡°íšŒ." },
  { method: "setBackgroundType(type)", param: "BackgroundType | BackgroundTypeValue", return: "void", explain: "ë°°ê²½ íƒ€ì… ì „í™˜." },
  { method: "unlock()", param: "-", return: "void", explain: "íœë”©ë½(ë”ë¸”í´ë¦­ ë°©ì§€) ìˆ˜ë™ í•´ì œ." },
  { method: "getClickInterval()", param: "-", return: "number", explain: "í´ë¦­ ìµœì†Œ ê°„ê²©(ms) ì¡°íšŒ." },
  { method: "setClickInterval(ms)", param: "number", return: "void", explain: "í´ë¦­ ìµœì†Œ ê°„ê²©(ms) ì„¤ì •." },
  { method: "getTabIndex()", param: "-", return: "number | null", explain: "tabIndex ì¡°íšŒ(nullì´ë©´ í¬ì»¤ìŠ¤ ë¶ˆê°€)." },
  { method: "setTabIndex(v)", param: "number | null", return: "void", explain: "tabIndex ì„¤ì •(nullì€ ì œê±°)." },
  { method: "focus()", param: "-", return: "void", explain: "ë²„íŠ¼ì— í¬ì»¤ìŠ¤ ì´ë™." },
  { method: "isVisible()", param: "-", return: "boolean", explain: "í˜„ì¬ í‘œì‹œ ì—¬ë¶€(ì»´í¬ë„ŒíŠ¸ ê³µí†µ)." },
  { method: "setVisible(visible)", param: "boolean", return: "void", explain: "í‘œì‹œ/ìˆ¨ê¹€(ì»´í¬ë„ŒíŠ¸ ê³µí†µ)." },
  { method: "getId()", param: "-", return: "string", explain: "ê³ ìœ  ID ë°˜í™˜(ì»´í¬ë„ŒíŠ¸ ê³µí†µ)." },
  { method: "reload()", param: "-", return: "void", explain: "ê°•ì œ ë¦¬ë Œë”(ì»´í¬ë„ŒíŠ¸ ê³µí†µ)." },
]

const slotGridDataEn = [
  { slot: "default", explain: "Default button content. Overrides the text prop when present." },
  { slot: "#icon",  explain: "Prefix icon/element rendered before the label." },
]

const propGridDataEn = [
  { prop: "id", type: "string", default: "-", explain: "Unique identifier. Access via hison.component.getButton(id)." },
  { prop: "class", type: "string | string[] | Record<string, boolean>", default: "-", explain: "Additional/responsive classes (hison-*)." },
  { prop: "style", type: "string | CSSProperties | CSSProperties[]", default: "-", explain: "Inline CSS style." },

  { prop: "visible", type: "boolean", default: "true", explain: "Whether the button is shown." },
  { prop: "disable", type: "boolean", default: "false", explain: "Whether the button is disabled." },
  { prop: "text", type: "string", default: "undefined", explain: "Fallback label when no default slot is provided." },
  { prop: "title", type: "string", default: "undefined", explain: "Tooltip text." },
  { prop: "border", type: "boolean", default: "true", explain: "Show border/box-shadow." },
  { prop: "backgroundType", type: "'filled'|'empty'|'transparent'", default: "'filled'", explain: "Background style. Also changeable via methods." },
  { prop: "clickInterval", type: "number", default: "0", explain: "Minimum interval (ms) between allowed clicks." },
  { prop: "tabIndex", type: "number | string | null", default: "null", explain: "Tab focus order. null = not focusable." },
]

const eventGridDataEn = [
  { event: "mounted", trigger: "After mounting.", args: "(HButtonMethods)" },
  { event: "click", trigger: "On click.", args: "(MouseEvent, HButtonMethods)" },
  { event: "mousedown", trigger: "On mousedown.", args: "(MouseEvent, HButtonMethods)" },
  { event: "mouseup", trigger: "On mouseup.", args: "(MouseEvent, HButtonMethods)" },
  { event: "mouseover", trigger: "On mouseover.", args: "(MouseEvent, HButtonMethods)" },
  { event: "mouseout", trigger: "On mouseout.", args: "(MouseEvent, HButtonMethods)" },
  { event: "responsive-change", trigger: "On device class change.", args: "('mb' | 'tb' | 'pc' | 'wd')" },
]

const methodGridDataEn = [
  { method: "getType()", param: "-", return: "'button'", explain: "Returns the component type literal ('button')." },
  { method: "getText()", param: "-", return: "string", explain: "Current text. Empty string when using a slot." },
  { method: "getTitle()", param: "-", return: "string", explain: "Current tooltip (title)." },
  { method: "isDisable()", param: "-", return: "boolean", explain: "Whether the button is disabled." },
  { method: "setText(text)", param: "string", return: "void", explain: "Sets text (no effect if slot is used)." },
  { method: "setTitle(title)", param: "string", return: "void", explain: "Sets tooltip text." },
  { method: "setDisable(disable)", param: "boolean", return: "void", explain: "Enables/disables the button." },
  { method: "isBorder()", param: "-", return: "boolean", explain: "Whether border is displayed." },
  { method: "setBorder(border)", param: "boolean", return: "void", explain: "Shows/hides border." },
  { method: "getBackgroundType()", param: "-", return: "BackgroundTypeValue", explain: "Gets current background type." },
  { method: "setBackgroundType(type)", param: "BackgroundType | BackgroundTypeValue", return: "void", explain: "Changes background type." },
  { method: "unlock()", param: "-", return: "void", explain: "Manually releases the pending (locked) state." },
  { method: "getClickInterval()", param: "-", return: "number", explain: "Gets minimum click interval (ms)." },
  { method: "setClickInterval(ms)", param: "number", return: "void", explain: "Sets minimum click interval (ms)." },
  { method: "getTabIndex()", param: "-", return: "number | null", explain: "Gets tabindex (null = not focusable)." },
  { method: "setTabIndex(v)", param: "number | null", return: "void", explain: "Sets tabindex (null removes focusability)." },
  { method: "focus()", param: "-", return: "void", explain: "Focuses the button." },
  { method: "isVisible()", param: "-", return: "boolean", explain: "Whether the component is visible (common)." },
  { method: "setVisible(visible)", param: "boolean", return: "void", explain: "Shows/hides the component (common)." },
  { method: "getId()", param: "-", return: "string", explain: "Returns the unique ID (common)." },
  { method: "reload()", param: "-", return: "void", explain: "Forces re-render (common)." },
]

const slotColumn: HGridColumn[] = [
  { id: 'slot', header: 'slot', dataType: 'text', width: '20%' },
  { id: 'explain', header: 'explain', dataType: 'text', width: '80%' },
]
const mountSlotGrid = async (grid: HGridMethods) => {
  grid.load(props.lang === 'en' ? slotGridDataEn : slotGridDataKo)
}

const propColumn: HGridColumn[] = [
  { id: 'prop', header: 'prop', dataType: 'text', width: '12%' },
  { id: 'type', header: 'type', dataType: 'text', width: '33%' },
  { id: 'default', header: 'default', dataType: 'text', width: '10%' },
  { id: 'explain', header: 'explain', dataType: 'text', width: '45%' },
]
const mountPropGrid = async (grid: HGridMethods) => {
  grid.load(props.lang === 'en' ? propGridDataEn : propGridDataKo)
}

const eventColumn: HGridColumn[] = [
  { id: 'event', header: 'event', dataType: 'text', width: '15%' },
  { id: 'trigger', header: 'trigger', dataType: 'text', width: '35%' },
  { id: 'args', header: 'args', dataType: 'text', width: '50%' },
]
const mountEventGrid = async (grid: HGridMethods) => {
  grid.load(props.lang === 'en' ? eventGridDataEn : eventGridDataKo)
}

const methodColumn: HGridColumn[] = [
  { id: 'method', header: 'method', dataType: 'text', width: '20%' },
  { id: 'param', header: 'param', dataType: 'text', width: '20%' },
  { id: 'return', header: 'return', dataType: 'text', width: '15%' },
  { id: 'explain', header: 'explain', dataType: 'text', width: '45%' },
]
const mountMethodGrid = async (grid: HGridMethods) => {
  grid.load(props.lang === 'en' ? methodGridDataEn : methodGridDataKo)
}

const contents = props.lang === 'en' ? en : ko
</script>

<template>
  <HLayout :border="true" style="padding: 20px;">
    <HParagraph class="hison-col-12">{{ contents.t1000 }}</HParagraph>
    <HGap/>
    <HParagraph class="hison-col-12">{{ contents.t1010 }}</HParagraph>
    <HButton
      id="btn-demo"
      text="Click Me"
      title="This is demo button"
    >
      <template #icon>ğŸ””</template>
    </HButton>
    <HGap/>
    <HParagraph class="hison-col-12">{{ contents.t1030 }}</HParagraph>
    <HGap/>
    <HParagraph class="hison-col-12">{{ contents.t1040 }}</HParagraph>
    <CodeParagraph :code="contents.c1040" :dynamicWidth="false"/>
    <HGap/>
    <HParagraph class="hison-col-12">{{ contents.t1050 }}</HParagraph>
    <CodeParagraph :code="contents.c1050" :dynamicWidth="false"/>
    <HGap/>
    <HCaption :level="6" class="hison-col-12">{{ contents.t1100 }}</HCaption>
    <HGrid
      id="buttonSlotGrid"
      :columns="slotColumn"
      class="hison-col-12 hison-size-m"
      :height="'100px'"
      :rownum-visible="false"
      :status-visible="false"
      :locked="true"
      :locked-color="false"
      @mounted="mountSlotGrid"
    />
    <HGap/>
    <HCaption :level="6" class="hison-col-12">{{ contents.t1200 }}</HCaption>
    <HGrid
      id="buttonPropGrid"
      :columns="propColumn"
      class="hison-col-12 hison-size-m"
      :height="'300px'"
      :rownum-visible="false"
      :status-visible="false"
      :locked="true"
      :locked-color="false"
      @mounted="mountPropGrid"
    />
    <HGap/>
    <HCaption :level="6" class="hison-col-12">{{ contents.t1300 }}</HCaption>
    <HGrid
      id="buttonEventGrid"
      :columns="eventColumn"
      class="hison-col-12 hison-size-m"
      :height="'200px'"
      :rownum-visible="false"
      :status-visible="false"
      :locked="true"
      :locked-color="false"
      @mounted="mountEventGrid"
    />
    <HGap/>
    <HCaption :level="6" class="hison-col-12">{{ contents.t1400 }}</HCaption>
    <HGrid
      id="buttonMethodGrid"
      :columns="methodColumn"
      class="hison-col-12 hison-size-m"
      :height="'600px'"
      :rownum-visible="false"
      :status-visible="false"
      :locked="true"
      :locked-color="false"
      @mounted="mountMethodGrid"
    />
  </HLayout>
</template>

<style scoped></style>