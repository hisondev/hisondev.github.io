<script setup lang="ts">
import { defineProps } from 'vue'
import type { HGridColumn, HGridMethods } from 'hisonvue'
import CodeParagraph from '../CodeParagraph.vue'

const props = defineProps<{ lang: string }>()

const ko = {
  t1000:
`í•˜ë‹¨ì€ HFileset(íŒŒì¼ ì²¨ë¶€) ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.

HFilesetì€ ë©€í‹° íŒŒì¼ ì—…ë¡œë“œ/ê´€ë¦¬, ë“œë˜ê·¸&ë“œë¡­, ê³ ê¸‰ ê²€ì¦, ì™„ì „í•œ ëŸ°íƒ€ì„ APIë¥¼ ì œê³µí•˜ëŠ” ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ íŒŒì¼ ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.
ì•„ì´ì½˜/ë²„íŠ¼/ë‹¤ìš´ë¡œë“œ ë¡œì§ì„ ììœ ë¡­ê²Œ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ìˆ˜ ìˆìœ¼ë©°, hison.vue.getInput(id)ë¡œ í”„ë¡œê·¸ë˜ë§¤í‹± ì œì–´ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.`,
  t1010: `ì´ê²ƒì€ HFileset ë¼ì´ë¸Œ ë°ëª¨ì…ë‹ˆë‹¤.`,
  t1030:
`ì£¼ìš” íŠ¹ì§•

Â· ë©€í‹°/ì‹±ê¸€ íŒŒì¼ ì—…ë¡œë“œ, í”„ë¦¬ë·°/ì œê±°, v-model ë™ê¸°í™”
Â· ë“œë˜ê·¸&ë“œë¡­ ì§€ì› ë° ì œí•œ/ê°€ì´ë“œ í‘œì‹œ
Â· íŒŒì¼ë‹¹/ì „ì²´ ìš©ëŸ‰ ì œí•œ, í—ˆìš©/ì°¨ë‹¨ í™•ì¥ì ë° MIME
Â· ì»¤ìŠ¤í…€ UI(ë¼ë²¨/í”Œë ˆì´ìŠ¤í™€ë”/ë²„íŠ¼/ì•„ì´ì½˜)ì™€ ë‹¤ìš´ë¡œë“œ í•¸ë“¤ëŸ¬
Â· ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ(hison-*)ê³¼ ëŸ°íƒ€ì„ API(HFilesetMethods)
Â· ë‚´ì¥ Add ë²„íŠ¼ id: hison_fileset_add_button_\${id} â†’ hison.component.getButton(...)ìœ¼ë¡œ ì ‘ê·¼`,
  t1040: `í…œí”Œë¦¿ ì‚¬ìš© ì˜ˆì‹œ`,
  c1040:
`<HFileset
  id="fileset"
  class="hison-col-12 hison-size-l-mb hison-size-s-pc hison-pos-right hison-color-primary-mb hison-color-success-pc"
  v-model="files"
  :multiCols="true"
  :placeholder="'No files.'"
  :addButtonText="'UPLOAD'"
  :removeButtonText="'DELETE'"
  :enableDrop="true"
  :visible="true"
  :editMode="EditMode.editable"
  :multiple="true"
  :maxFileCount="3"
  :allowedTypes="['.pdf', '.jpg', '.png']"
  style="height: 200px; margin-bottom: 5px;"
>
  <template #file-icon="{ file }">
    <span v-if="file.extension === 'pdf'">ğŸ“•</span>
    <span v-else-if="file.extension === 'jpg'">ğŸ–¼ï¸</span>
    <span v-else>ğŸ“„</span>
  </template>
  <template #add-button="{ add, disable }">
    <span>ğŸ“ Add files</span>
  </template>
</HFileset>`,
  t1050: `ëŸ°íƒ€ì„ ì‚¬ìš© ì˜ˆì‹œ`,
  c1050:
`const fileset = hison.vue.getInput('fileset')
fileset.setEditMode('readonly')
fileset.setAllowedTypes(['.pdf'])
fileset.setMaxFileCount(2)
fileset.setValue([{ fileName: 'final.pdf', fileSize: 1024, extension: 'pdf', isNew: false }])
fileset.focus()

const addBtn = hison.component.getButton(\`hison_fileset_add_button_\${'fileset'}\`)
addBtn.setDisable(true)`,
  t1100: `slot`,
  t1200: `props`,
  t1300: `event emit`,
  t1400: `component methods`,
}

const en = {
  t1000:
`Below is the HFileset (file attachment) component.

HFileset is an enterprise-grade file upload/management UI with multi-file handling, drag-and-drop,
advanced validation, and a complete runtime API. You can customize icons/buttons/download logic,
and control it programmatically via hison.vue.getInput(id).`,
  t1010: `This is the HFileset live demo.`,
  t1030:
`Main Features

Â· Multi/single file upload, preview/remove, v-model sync
Â· Drag-and-drop with visual feedback and restriction control
Â· Per-file/total size limits, allowed/disallowed MIME/extension
Â· Customizable UI (labels/placeholders/buttons/icons) and download handler
Â· Responsive hison-* classes and full runtime API (HFilesetMethods)
Â· Built-in Add button id: hison_fileset_add_button_\${id} (accessible via hison.component.getButton)`,
  t1040: `Template Example`,
  c1040:
`<HFileset
  id="fileset"
  class="hison-col-12 hison-size-l-mb hison-size-s-pc hison-pos-right hison-color-primary-mb hison-color-success-pc"
  v-model="files"
  :multiCols="true"
  :placeholder="'No files.'"
  :addButtonText="'UPLOAD'"
  :removeButtonText="'DELETE'"
  :enableDrop="true"
  :visible="true"
  :editMode="EditMode.editable"
  :multiple="true"
  :maxFileCount="3"
  :allowedTypes="['.pdf', '.jpg', '.png']"
  style="height: 200px; margin-bottom: 5px;"
>
  <template #file-icon="{ file }">
    <span v-if="file.extension === 'pdf'">ğŸ“•</span>
    <span v-else-if="file.extension === 'jpg'">ğŸ–¼ï¸</span>
    <span v-else>ğŸ“„</span>
  </template>
  <template #add-button="{ add, disable }">
    <span>ğŸ“ Add files</span>
  </template>
</HFileset>`,
  t1050: `Runtime Example`,
  c1050:
`const fileset = hison.vue.getInput('fileset')
fileset.setEditMode('readonly')
fileset.setAllowedTypes(['.pdf'])
fileset.setMaxFileCount(2)
fileset.setValue([{ fileName: 'final.pdf', fileSize: 1024, extension: 'pdf', isNew: false }])
fileset.focus()

const addBtn = hison.component.getButton(\`hison_fileset_add_button_\${'fileset'}\`)
addBtn.setDisable(true)`,
  t1100: `slot`,
  t1200: `props`,
  t1300: `event emit`,
  t1400: `component methods`,
}

const slotGridDataKo = [
  { slot: "file-icon", explain: "ê° íŒŒì¼ëª… ì•ì— í‘œì‹œí•  ì•„ì´ì½˜/ë§ˆí¬ì—…. Scoped prop: { file }" },
  { slot: "remove-button", explain: "íŒŒì¼ë³„ ì œê±° ë²„íŠ¼ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ. { file, index, remove, disable } ì œê³µ." },
  { slot: "add-button", explain: "ë‚´ì¥ HButtonì˜ ì½˜í…ì¸ ë§Œ êµì²´. { add, disable } ì œê³µ." },
]

const propGridDataKo = [
  { prop: "id", type: "string", default: "-", explain: "ê³ ìœ  ì‹ë³„ì. hison.vue.getInput(id)ë¡œ ì ‘ê·¼. ì¤‘ë³µ IDëŠ” ì—ëŸ¬." },
  { prop: "class", type: "string | string[] | Record<string, boolean>", default: "-", explain: "ë°˜ì‘í˜•/ì»¬ëŸ¬/ì‚¬ì´ì¦ˆ ë“± hison-* í´ë˜ìŠ¤ ì§€ì›." },
  { prop: "style", type: "string | CSSProperties | CSSProperties[]", default: "-", explain: "ì»¨í…Œì´ë„ˆ ì¸ë¼ì¸ ìŠ¤íƒ€ì¼." },
  { prop: "visible", type: "boolean", default: "true", explain: "ì»´í¬ë„ŒíŠ¸ í‘œì‹œ ì—¬ë¶€." },
  { prop: "editMode", type: "'editable'|'readonly'|'disable'", default: "'editable'", explain: "í¸ì§‘ ìƒíƒœ." },
  { prop: "modelValue", type: "AttachedFileItem[]", default: "[]", explain: "íŒŒì¼ ë¦¬ìŠ¤íŠ¸(v-model)." },
  { prop: "attId", type: "string", default: "''", explain: "ë°±ì—”ë“œ íŒŒì¼ ê·¸ë£¹ ID." },
  { prop: "addButtonText", type: "string", default: "'Add'", explain: "ì¶”ê°€ ë²„íŠ¼ ë¼ë²¨(ìŠ¬ë¡¯ ì‚¬ìš© ì‹œ ë¬´ì‹œ)." },
  { prop: "removeButtonText", type: "string", default: "'x'", explain: "ì œê±° ë²„íŠ¼ ë¼ë²¨(ìŠ¬ë¡¯ ì‚¬ìš© ì‹œ ë¬´ì‹œ)." },
  { prop: "placeholder", type: "string", default: "'drop your files.'", explain: "íŒŒì¼ì´ ì—†ì„ ë•Œ í‘œì‹œë˜ëŠ” ë¬¸êµ¬." },
  { prop: "enableDrop", type: "boolean", default: "true", explain: "ë“œë˜ê·¸&ë“œë¡­ ì—…ë¡œë“œ í—ˆìš©." },
  { prop: "downloadHandler", type: "(file: AttachedFileItem) => void", default: "-", explain: "ì»¤ìŠ¤í…€ ë‹¤ìš´ë¡œë“œ í•¸ë“¤ëŸ¬." },
  { prop: "multiCols", type: "boolean", default: "false", explain: "íŒŒì¼ì„ ë‹¤ë‹¨(2ì—´)ë¡œ í‘œì‹œ." },
  { prop: "multiple", type: "boolean", default: "true", explain: "ë‹¤ì¤‘ ì„ íƒ í—ˆìš©." },
  { prop: "allowedTypes", type: "string | string[]", default: "-", explain: "í—ˆìš© MIME/í™•ì¥ì(ë°°ì—´/CSV)." },
  { prop: "disallowedTypes", type: "string | string[]", default: "-", explain: "ì°¨ë‹¨ MIME/í™•ì¥ì(ë°°ì—´/CSV)." },
  { prop: "maxFileSize", type: "number", default: "Infinity", explain: "íŒŒì¼ ë‹¹ ìµœëŒ€ ìš©ëŸ‰(bytes)." },
  { prop: "maxTotalFileSize", type: "number", default: "Infinity", explain: "ì „ì²´ íŒŒì¼ ìµœëŒ€ ìš©ëŸ‰(bytes)." },
  { prop: "maxFileCount", type: "number", default: "0", explain: "ìµœëŒ€ íŒŒì¼ ìˆ˜(0ì€ ë¬´ì œí•œ)." },
  { prop: "onDisallowedType", type: "(file, allowed, disallowed) => void", default: "-", explain: "í—ˆìš©ë˜ì§€ ì•Šì€ íƒ€ì…ì¸ ê²½ìš° ì½œë°±." },
  { prop: "onMaxFileSizeExceeded", type: "(file, size, max) => void", default: "-", explain: "ê°œë³„ íŒŒì¼ ìš©ëŸ‰ ì´ˆê³¼ ì½œë°±." },
  { prop: "onMaxTotalSizeExceeded", type: "(file, total, max) => void", default: "-", explain: "ì´ ìš©ëŸ‰ ì´ˆê³¼ ì½œë°±." },
]

const eventGridDataKo = [
  { event: "mounted", trigger: "ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œ", args: "(HFilesetMethods)" },
  { event: "responsive-change", trigger: "ë””ë°”ì´ìŠ¤ í´ë˜ìŠ¤ ë³€ê²½ ì‹œ", args: "('mb'|'tb'|'pc'|'wd')" },
  { event: "update:modelValue", trigger: "íŒŒì¼ ë¦¬ìŠ¤íŠ¸ ë³€ê²½(ì¶”ê°€/ì œê±°/ì‚­ì œ ë“±)", args: "(AttachedFileItem[])" },
  { event: "add", trigger: "íŒŒì¼ì´ ì¶”ê°€ë  ë•Œ", args: "(file: AttachedFileItem, methods: HFilesetMethods)" },
  { event: "remove", trigger: "íŒŒì¼ì´ ì œê±°ë  ë•Œ", args: "(file: AttachedFileItem, methods: HFilesetMethods)" },
  { event: "change", trigger: "íŒŒì¼ ë¦¬ìŠ¤íŠ¸ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤", args: "(newList: AttachedFileItem[], oldList: AttachedFileItem[], methods: HFilesetMethods)" },
  { event: "download", trigger: "ë‹¤ìš´ë¡œë“œ íŠ¸ë¦¬ê±° ì‹œ", args: "(file: AttachedFileItem, methods: HFilesetMethods)" },
  { event: "focus", trigger: "íŒŒì¼ ì…ë ¥ ë˜ëŠ” ì¶”ê°€ ë²„íŠ¼ í¬ì»¤ìŠ¤", args: "-" },
  { event: "blur", trigger: "í¬ì»¤ìŠ¤ í•´ì œ", args: "-" },
]

const methodGridDataKo = [
  { method: "getType()", param: "-", return: "'fileset'", explain: "ì»´í¬ë„ŒíŠ¸ íƒ€ì… ë¦¬í„°ëŸ´('fileset')." },
  { method: "getEditMode()", param: "-", return: "EditModeValue", explain: "í˜„ì¬ í¸ì§‘ ìƒíƒœ ì¡°íšŒ." },
  { method: "setEditMode(mode)", param: "EditMode | EditModeValue", return: "void", explain: "í¸ì§‘ ìƒíƒœ ì„¤ì •." },
  { method: "getValue()", param: "-", return: "AttachedFileItem[] | null", explain: "í˜„ì¬ íŒŒì¼ ëª©ë¡(ì‚­ì œ í‘œì‹œ ì œì™¸) ì¡°íšŒ." },
  { method: "setValue(list)", param: "AttachedFileItem[]", return: "void", explain: "íŒŒì¼ ëª©ë¡ êµì²´ ë° ì¦‰ì‹œ ë°˜ì˜." },
  { method: "getDataModel()", param: "-", return: "InterfaceDataModel<AttachedFileItem> | null", explain: "í˜„ì¬ ë‚´ìš©ì„ DataModelë¡œ ë³€í™˜." },
  { method: "setDataModel(dm)", param: "InterfaceDataModel<T>", return: "void", explain: "DataModel ì²« í–‰ê°’ìœ¼ë¡œ ë‚´ìš© ë³µì›." },
  { method: "load(data)", param: "AttachedFileItem | Record | DataModel", return: "void", explain: "ë‹¤ì–‘í•œ í˜•íƒœì˜ ë°ì´í„°ë¡œ ë¡œë“œ." },
  { method: "getAttId()", param: "-", return: "string", explain: "ì²¨ë¶€ ê·¸ë£¹ ID ì¡°íšŒ." },
  { method: "setAttId(attId)", param: "string", return: "void", explain: "ì²¨ë¶€ ê·¸ë£¹ ID ì„¤ì •." },
  { method: "getAddButtonText()", param: "-", return: "string", explain: "ì¶”ê°€ ë²„íŠ¼ ë¼ë²¨ ì¡°íšŒ." },
  { method: "setAddButtonText(text)", param: "string", return: "void", explain: "ì¶”ê°€ ë²„íŠ¼ ë¼ë²¨ ì„¤ì •(ìŠ¬ë¡¯ ì‚¬ìš© ì‹œ ë¬´íš¨)." },
  { method: "getRemoveButtonText()", param: "-", return: "string", explain: "ì œê±° ë²„íŠ¼ ë¼ë²¨ ì¡°íšŒ." },
  { method: "setRemoveButtonText(text)", param: "string", return: "void", explain: "ì œê±° ë²„íŠ¼ ë¼ë²¨ ì„¤ì •(ìŠ¬ë¡¯ ì‚¬ìš© ì‹œ ë¬´íš¨)." },
  { method: "getPlaceholder()", param: "-", return: "string", explain: "ë¹ˆ ìƒíƒœ ë¬¸êµ¬ ì¡°íšŒ." },
  { method: "setPlaceholder(text)", param: "string", return: "void", explain: "ë¹ˆ ìƒíƒœ ë¬¸êµ¬ ì„¤ì •." },
  { method: "isEnableDrop()", param: "-", return: "boolean", explain: "ë“œë˜ê·¸&ë“œë¡­ í—ˆìš© ì—¬ë¶€." },
  { method: "setEnableDrop(v)", param: "boolean", return: "void", explain: "ë“œë˜ê·¸&ë“œë¡­ í—ˆìš©/ì°¨ë‹¨." },
  { method: "setDownloadHandler(fn)", param: "(file) => void", return: "void", explain: "ì»¤ìŠ¤í…€ ë‹¤ìš´ë¡œë“œ í•¸ë“¤ëŸ¬ ì§€ì •." },
  { method: "isMultiCols()", param: "-", return: "boolean", explain: "ë‹¤ë‹¨ í‘œì‹œ ì—¬ë¶€." },
  { method: "setMultiCols(v)", param: "boolean", return: "void", explain: "ë‹¤ë‹¨ í‘œì‹œ ì„¤ì •." },
  { method: "isMultiple()", param: "-", return: "boolean", explain: "ë‹¤ì¤‘ ì„ íƒ í—ˆìš© ì—¬ë¶€." },
  { method: "setMultiple(v)", param: "boolean", return: "void", explain: "ë‹¤ì¤‘ ì„ íƒ í—ˆìš©/ë‹¨ì¼ë¡œ ì „í™˜." },
  { method: "getAllowedTypes()", param: "-", return: "string[]", explain: "í—ˆìš© íƒ€ì…/í™•ì¥ì ì¡°íšŒ." },
  { method: "setAllowedTypes(list)", param: "string[]", return: "void", explain: "í—ˆìš© íƒ€ì…/í™•ì¥ì ì„¤ì •." },
  { method: "getDisallowedTypes()", param: "-", return: "string[]", explain: "ì°¨ë‹¨ íƒ€ì…/í™•ì¥ì ì¡°íšŒ." },
  { method: "setDisallowedTypes(list)", param: "string[]", return: "void", explain: "ì°¨ë‹¨ íƒ€ì…/í™•ì¥ì ì„¤ì •." },
  { method: "getMaxFileSize()", param: "-", return: "number", explain: "íŒŒì¼ë‹¹ ìš©ëŸ‰ ì œí•œ ì¡°íšŒ(bytes)." },
  { method: "setMaxFileSize(n)", param: "number", return: "void", explain: "íŒŒì¼ë‹¹ ìš©ëŸ‰ ì œí•œ ì„¤ì •." },
  { method: "getMaxTotalFileSize()", param: "-", return: "number", explain: "ì „ì²´ ìš©ëŸ‰ ì œí•œ ì¡°íšŒ(bytes)." },
  { method: "setMaxTotalFileSize(n)", param: "number", return: "void", explain: "ì „ì²´ ìš©ëŸ‰ ì œí•œ ì„¤ì •." },
  { method: "getMaxFileCount()", param: "-", return: "number", explain: "ìµœëŒ€ íŒŒì¼ ìˆ˜ ì¡°íšŒ(0 ë¬´ì œí•œ)." },
  { method: "setMaxFileCount(n)", param: "number", return: "void", explain: "ìµœëŒ€ íŒŒì¼ ìˆ˜ ì„¤ì •." },
  { method: "setOnDisallowedType(fn)", param: "(file, allowed, disallowed) => void", return: "void", explain: "ë¹„í—ˆìš© íƒ€ì… ì½œë°± ì§€ì •." },
  { method: "setOnMaxFileSizeExceeded(fn)", param: "(file, size, max) => void", return: "void", explain: "ê°œë³„ ìš©ëŸ‰ ì´ˆê³¼ ì½œë°± ì§€ì •." },
  { method: "setOnMaxTotalSizeExceeded(fn)", param: "(file, total, max) => void", return: "void", explain: "ì´ ìš©ëŸ‰ ì´ˆê³¼ ì½œë°± ì§€ì •." },
  { method: "isModified()", param: "-", return: "boolean", explain: "ë§ˆì§€ë§‰ set/reset ì´í›„ ìˆ˜ì • ì—¬ë¶€." },
  { method: "setModified(v)", param: "boolean", return: "void", explain: "ìˆ˜ì • í”Œë˜ê·¸ ìˆ˜ë™ ì„¤ì •/ë¦¬ì…‹." },
  { method: "getTabIndex()", param: "-", return: "number | null", explain: "tabIndex ì¡°íšŒ(nullì´ë©´ í¬ì»¤ìŠ¤ ë¶ˆê°€)." },
  { method: "setTabIndex(v)", param: "number | null", return: "void", explain: "tabIndex ì„¤ì •(nullì€ ì œê±°)." },
  { method: "focus()", param: "-", return: "void", explain: "ì¶”ê°€ ë²„íŠ¼ì— í¬ì»¤ìŠ¤." },
  { method: "isVisible()", param: "-", return: "boolean", explain: "ê³µí†µ: í‘œì‹œ ì—¬ë¶€." },
  { method: "setVisible(v)", param: "boolean", return: "void", explain: "ê³µí†µ: í‘œì‹œ/ìˆ¨ê¹€." },
  { method: "getId()", param: "-", return: "string", explain: "ê³µí†µ: ê³ ìœ  ID." },
  { method: "reload()", param: "-", return: "void", explain: "ê³µí†µ: ê°•ì œ ë¦¬ë Œë”." },
]

const slotGridDataEn = [
  { slot: "file-icon", explain: "Custom icon/markup before each file name. Scoped: { file }." },
  { slot: "remove-button", explain: "Customize the per-file remove button. Scoped: { file, index, remove, disable }." },
  { slot: "add-button", explain: "Replace contents inside built-in HButton. Scoped: { add, disable }." },
]

const propGridDataEn = [
  { prop: "id", type: "string", default: "-", explain: "Unique id. Access via hison.vue.getInput(id). Duplicate ids throw." },
  { prop: "class", type: "string | string[] | Record<string, boolean>", default: "-", explain: "All hison-* responsive/color/size utilities." },
  { prop: "style", type: "string | CSSProperties | CSSProperties[]", default: "-", explain: "Container inline style." },
  { prop: "visible", type: "boolean", default: "true", explain: "Component visibility." },
  { prop: "editMode", type: "'editable'|'readonly'|'disable'", default: "'editable'", explain: "Edit state." },
  { prop: "modelValue", type: "AttachedFileItem[]", default: "[]", explain: "File list via v-model." },
  { prop: "attId", type: "string", default: "''", explain: "Attachment group id for backend." },
  { prop: "addButtonText", type: "string", default: "'Add'", explain: "Add button label (ignored if slot used)." },
  { prop: "removeButtonText", type: "string", default: "'x'", explain: "Remove button label (ignored if slot used)." },
  { prop: "placeholder", type: "string", default: "'drop your files.'", explain: "Empty state message." },
  { prop: "enableDrop", type: "boolean", default: "true", explain: "Enable drag-and-drop uploading." },
  { prop: "downloadHandler", type: "(file: AttachedFileItem) => void", default: "-", explain: "Custom download handler." },
  { prop: "multiCols", type: "boolean", default: "false", explain: "Display files in multiple columns." },
  { prop: "multiple", type: "boolean", default: "true", explain: "Allow selecting multiple files." },
  { prop: "allowedTypes", type: "string | string[]", default: "-", explain: "Allowed MIME or extensions." },
  { prop: "disallowedTypes", type: "string | string[]", default: "-", explain: "Disallowed MIME or extensions." },
  { prop: "maxFileSize", type: "number", default: "Infinity", explain: "Per-file size limit (bytes)." },
  { prop: "maxTotalFileSize", type: "number", default: "Infinity", explain: "Total size limit (bytes)." },
  { prop: "maxFileCount", type: "number", default: "0", explain: "Max files allowed (0 = unlimited)." },
  { prop: "onDisallowedType", type: "(file, allowed, disallowed) => void", default: "-", explain: "Callback when type is not allowed." },
  { prop: "onMaxFileSizeExceeded", type: "(file, size, max) => void", default: "-", explain: "Callback for per-file size overflow." },
  { prop: "onMaxTotalSizeExceeded", type: "(file, total, max) => void", default: "-", explain: "Callback for total size overflow." },
]

const eventGridDataEn = [
  { event: "mounted", trigger: "On mount.", args: "(HFilesetMethods)" },
  { event: "responsive-change", trigger: "On device class change.", args: "('mb'|'tb'|'pc'|'wd')" },
  { event: "update:modelValue", trigger: "When file list changes.", args: "(AttachedFileItem[])" },
  { event: "add", trigger: "When a file is added.", args: "(file: AttachedFileItem, methods: HFilesetMethods)" },
  { event: "remove", trigger: "When a file is removed.", args: "(file: AttachedFileItem, methods: HFilesetMethods)" },
  { event: "change", trigger: "Whenever the list changes.", args: "(newList: AttachedFileItem[], oldList: AttachedFileItem[], methods: HFilesetMethods)" },
  { event: "download", trigger: "When a download is triggered.", args: "(file: AttachedFileItem, methods: HFilesetMethods)" },
  { event: "focus", trigger: "When add button or input gets focus.", args: "-" },
  { event: "blur", trigger: "When input or set loses focus.", args: "-" },
]

const methodGridDataEn = [
  { method: "getType()", param: "-", return: "'fileset'", explain: "Returns the component type literal ('fileset')." },
  { method: "getEditMode()", param: "-", return: "EditModeValue", explain: "Gets current edit mode." },
  { method: "setEditMode(mode)", param: "EditMode | EditModeValue", return: "void", explain: "Sets edit mode." },
  { method: "getValue()", param: "-", return: "AttachedFileItem[] | null", explain: "Gets current file list (excluding deleted)." },
  { method: "setValue(list)", param: "AttachedFileItem[]", return: "void", explain: "Replaces the file list immediately." },
  { method: "getDataModel()", param: "-", return: "InterfaceDataModel<AttachedFileItem> | null", explain: "Converts to DataModel." },
  { method: "setDataModel(dm)", param: "InterfaceDataModel<T>", return: "void", explain: "Restores from DataModel first row." },
  { method: "load(data)", param: "AttachedFileItem | Record | DataModel", return: "void", explain: "Loads editor content from various forms." },
  { method: "getAttId()", param: "-", return: "string", explain: "Gets attachment group id." },
  { method: "setAttId(attId)", param: "string", return: "void", explain: "Sets attachment group id." },
  { method: "getAddButtonText()", param: "-", return: "string", explain: "Gets add button label." },
  { method: "setAddButtonText(text)", param: "string", return: "void", explain: "Sets add button label (ignored if slot used)." },
  { method: "getRemoveButtonText()", param: "-", return: "string", explain: "Gets remove button label." },
  { method: "setRemoveButtonText(text)", param: "string", return: "void", explain: "Sets remove button label (ignored if slot used)." },
  { method: "getPlaceholder()", param: "-", return: "string", explain: "Gets empty state message." },
  { method: "setPlaceholder(text)", param: "string", return: "void", explain: "Sets empty state message." },
  { method: "isEnableDrop()", param: "-", return: "boolean", explain: "Whether drag-and-drop is enabled." },
  { method: "setEnableDrop(v)", param: "boolean", return: "void", explain: "Enable/disable drag-and-drop." },
  { method: "setDownloadHandler(fn)", param: "(file) => void", return: "void", explain: "Assign a custom download handler." },
  { method: "isMultiCols()", param: "-", return: "boolean", explain: "Whether multi-column layout is on." },
  { method: "setMultiCols(v)", param: "boolean", return: "void", explain: "Enable/disable multi-column display." },
  { method: "isMultiple()", param: "-", return: "boolean", explain: "Whether multiple selection is allowed." },
  { method: "setMultiple(v)", param: "boolean", return: "void", explain: "Toggle multiple vs single file mode." },
  { method: "getAllowedTypes()", param: "-", return: "string[]", explain: "Gets allowed MIME/extensions." },
  { method: "setAllowedTypes(list)", param: "string[]", return: "void", explain: "Sets allowed MIME/extensions." },
  { method: "getDisallowedTypes()", param: "-", return: "string[]", explain: "Gets disallowed MIME/extensions." },
  { method: "setDisallowedTypes(list)", param: "string[]", return: "void", explain: "Sets disallowed MIME/extensions." },
  { method: "getMaxFileSize()", param: "-", return: "number", explain: "Per-file size limit (bytes)." },
  { method: "setMaxFileSize(n)", param: "number", return: "void", explain: "Set per-file size limit." },
  { method: "getMaxTotalFileSize()", param: "-", return: "number", explain: "Total size limit (bytes)." },
  { method: "setMaxTotalFileSize(n)", param: "number", return: "void", explain: "Set total size limit." },
  { method: "getMaxFileCount()", param: "-", return: "number", explain: "Max number of files (0 = unlimited)." },
  { method: "setMaxFileCount(n)", param: "number", return: "void", explain: "Set max number of files." },
  { method: "setOnDisallowedType(fn)", param: "(file, allowed, disallowed) => void", return: "void", explain: "Set callback for disallowed type." },
  { method: "setOnMaxFileSizeExceeded(fn)", param: "(file, size, max) => void", return: "void", explain: "Set callback for per-file size overflow." },
  { method: "setOnMaxTotalSizeExceeded(fn)", param: "(file, total, max) => void", return: "void", explain: "Set callback for total size overflow." },
  { method: "isModified()", param: "-", return: "boolean", explain: "Whether list was modified since last set/reset." },
  { method: "setModified(v)", param: "boolean", return: "void", explain: "Manually set/reset modified flag." },
  { method: "getTabIndex()", param: "-", return: "number | null", explain: "Gets tabIndex (null = unfocusable)." },
  { method: "setTabIndex(v)", param: "number | null", return: "void", explain: "Sets tabIndex (null removes)." },
  { method: "focus()", param: "-", return: "void", explain: "Focuses the add button." },
  { method: "isVisible()", param: "-", return: "boolean", explain: "Common: visibility." },
  { method: "setVisible(v)", param: "boolean", return: "void", explain: "Common: show/hide." },
  { method: "getId()", param: "-", return: "string", explain: "Common: unique id." },
  { method: "reload()", param: "-", return: "void", explain: "Common: force re-render." },
]

const slotColumn: HGridColumn[] = [
  { id: 'slot', header: 'slot', dataType: 'text', width: '20%' },
  { id: 'explain', header: 'explain', dataType: 'text', width: '80%' },
]
const mountSlotGrid = async (grid: HGridMethods) => {
  grid.load(props.lang === 'en' ? slotGridDataEn : slotGridDataKo)
}

const propColumn: HGridColumn[] = [
  { id: 'prop', header: 'prop', dataType: 'text', width: '16%' },
  { id: 'type', header: 'type', dataType: 'text', width: '36%' },
  { id: 'default', header: 'default', dataType: 'text', width: '10%' },
  { id: 'explain', header: 'explain', dataType: 'text', width: '38%' },
]
const mountPropGrid = async (grid: HGridMethods) => {
  grid.load(props.lang === 'en' ? propGridDataEn : propGridDataKo)
}

const eventColumn: HGridColumn[] = [
  { id: 'event', header: 'event', dataType: 'text', width: '20%' },
  { id: 'trigger', header: 'trigger', dataType: 'text', width: '35%' },
  { id: 'args', header: 'args', dataType: 'text', width: '45%' },
]
const mountEventGrid = async (grid: HGridMethods) => {
  grid.load(props.lang === 'en' ? eventGridDataEn : eventGridDataKo)
}

const methodColumn: HGridColumn[] = [
  { id: 'method', header: 'method', dataType: 'text', width: '22%' },
  { id: 'param', header: 'param', dataType: 'text', width: '30%' },
  { id: 'return', header: 'return', dataType: 'text', width: '14%' },
  { id: 'explain', header: 'explain', dataType: 'text', width: '34%' },
]
const mountMethodGrid = async (grid: HGridMethods) => {
  grid.load(props.lang === 'en' ? methodGridDataEn : methodGridDataKo)
}

const contents = props.lang === 'en' ? en : ko
</script>

<template>
  <HLayout :border="true" style="padding: 20px;">
    <HParagraph class="hison-col-12">{{ contents.t1000 }}</HParagraph>
    <HGap/>
    <!-- Live Demo -->
    <HFileset
      id="fileset-demo"
      class="hison-col-12 hison-size-m"
      :multiCols="true"
      :placeholder="props.lang === 'en' ? 'Drop files here.' : 'ì—¬ê¸°ì— íŒŒì¼ì„ ë“œë¡­í•˜ì„¸ìš”.'"
      :addButtonText="props.lang === 'en' ? 'UPLOAD' : 'ì—…ë¡œë“œ'"
      :removeButtonText="props.lang === 'en' ? 'DELETE' : 'ì‚­ì œ'"
      :enableDrop="true"
      :visible="true"
      :editMode="'editable'"
      :multiple="true"
      :maxFileCount="3"
      :allowedTypes="['.pdf','.jpg','.png']"
      style="height: 180px; margin-bottom: 6px;"
    >
      <template #file-icon="{ file }">
        <span v-if="file.extension === 'pdf'">ğŸ“•</span>
        <span v-else-if="file.extension === 'jpg' || file.extension === 'jpeg' || file.extension === 'png'">ğŸ–¼ï¸</span>
        <span v-else>ğŸ“„</span>
      </template>
      <template #add-button="{}">
        <span>ğŸ“ {{ props.lang === 'en' ? 'Add files' : 'íŒŒì¼ ì¶”ê°€' }}</span>
      </template>
    </HFileset>

    <HParagraph class="hison-col-12">{{ contents.t1010 }}</HParagraph>
    <HGap/>
    <HParagraph class="hison-col-12">{{ contents.t1030 }}</HParagraph>
    <HParagraph class="hison-col-12">{{ contents.t1040 }}</HParagraph>
    <CodeParagraph :code="contents.c1040" :dynamicWidth="false"/>
    <HParagraph class="hison-col-12">{{ contents.t1050 }}</HParagraph>
    <CodeParagraph :code="contents.c1050" :dynamicWidth="false"/>

    <HCaption :level="6" class="hison-col-12">{{ contents.t1100 }}</HCaption>
    <HGrid
      id="filesetSlotGrid"
      :columns="slotColumn"
      class="hison-col-12 hison-size-m"
      :height="'120px'"
      :rownum-visible="false"
      :status-visible="false"
      :locked="true"
      :locked-color="false"
      @mounted="mountSlotGrid"
    />
    <HGap/>
    <HCaption :level="6" class="hison-col-12">{{ contents.t1200 }}</HCaption>
    <HGrid
      id="filesetPropGrid"
      :columns="propColumn"
      class="hison-col-12 hison-size-m"
      :height="'540px'"
      :rownum-visible="false"
      :status-visible="false"
      :locked="true"
      :locked-color="false"
      @mounted="mountPropGrid"
    />
    <HGap/>
    <HCaption :level="6" class="hison-col-12">{{ contents.t1300 }}</HCaption>
    <HGrid
      id="filesetEventGrid"
      :columns="eventColumn"
      class="hison-col-12 hison-size-m"
      :height="'260px'"
      :rownum-visible="false"
      :status-visible="false"
      :locked="true"
      :locked-color="false"
      @mounted="mountEventGrid"
    />
    <HGap/>
    <HCaption :level="6" class="hison-col-12">{{ contents.t1400 }}</HCaption>
    <HGrid
      id="filesetMethodGrid"
      :columns="methodColumn"
      class="hison-col-12 hison-size-m"
      :height="'800px'"
      :rownum-visible="false"
      :status-visible="false"
      :locked="true"
      :locked-color="false"
      @mounted="mountMethodGrid"
    />
  </HLayout>
</template>

<style scoped></style>